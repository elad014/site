services:
  stock_data_collector:
    container_name: stock_data_collector
    build: .
    command: ["gunicorn", "--bind", "0.0.0.0:5000", "app.stock_data_collector_service:app"]
    volumes:
      - .:/app
    network_mode: "host"
    env_file:
      - .env

  scheduler:
    container_name: scheduler
    build: .
    command: ["python", "app/scheduler.py"]
    volumes:
      - .:/app
    network_mode: "host"
    env_file:
      - .env
